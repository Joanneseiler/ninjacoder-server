(this["webpackJsonpNinjaCoder-client"]=this["webpackJsonpNinjaCoder-client"]||[]).push([[0],{128:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(15),i=a.n(c),s=(a(128),a(20)),o=a(111),l=a(7),u=a.n(l),d=a(14),p=a(10),j=a(16),b=a(13),h=a.n(b),m=a.p+"static/media/sadNinjaKitty.24350543.png",x=a(1);var O=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Hey Kiddo, you better go back to the others, you can't go here!"}),Object(x.jsx)("img",{src:m,alt:"sad NinjaKitty"})]})},g=a(216),f=a(211),v=a(231),w=a(217),y=a(212),C=a(207),N=a(209),k=a(230),S=a(227),W=a(213),D=a(228),F=a(9);var T=function(e){return Object(x.jsx)("div",{style:{marginTop:16,display:"flex",justifyContent:"center",color:"red"},children:e.text})},P=a.p+"static/media/Login-logo.b90cbc5a.png",A=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},input:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(2)}}}));var I=function(e){var t=Object(r.useState)(""),a=Object(p.a)(t,2),n=a[0],c=a[1],i=A();return Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:i.paper,children:[Object(x.jsx)("img",{style:{width:"40px",margin:"15px"},src:P,alt:"Sign in Logo"}),Object(x.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(x.jsxs)("form",{className:i.form,onSubmit:e.onSignIn,noValidate:!0,children:[Object(x.jsxs)(W.a,{variant:"outlined",className:i.formControl,children:[Object(x.jsx)(D.a,{id:"role-label",children:"What is your role?"}),Object(x.jsxs)(S.a,{labelid:"role-label",required:!0,id:"role",value:n,onChange:function(e){c(e.target.value)},name:"role",children:[Object(x.jsx)(k.a,{value:"tutor",children:"Tutor"}),Object(x.jsx)(k.a,{value:"parent",children:"Parent"})]})]}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",className:i.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:i.textField}),Object(x.jsx)(T,{text:e.error}),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,children:"Sign In"}),Object(x.jsxs)(w.a,{container:!0,children:[Object(x.jsx)(w.a,{item:!0,xs:!0}),Object(x.jsxs)(w.a,{item:!0,children:[Object(x.jsx)("span",{style:{fontSize:"0.875rem"},children:"Don't have an account?"}),Object(x.jsx)(F.b,{style:{marginLeft:8,textDecoration:"none"},to:"/signup",variant:"body2",children:"Sign Up"})]})]})]})]})]})},V=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(2)}}}));function E(e){return e.isVisible?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"kidAge",label:"Age of your child",name:"kidAge",className:e.classes.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"secretWord",label:"Please choose a secret word",name:"secretWord",className:e.classes.textField})]}):Object(x.jsx)(x.Fragment,{})}var L=function(e){var t=n.a.useState(""),a=Object(p.a)(t,2),r=a[0],c=a[1],i=V();return Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:i.paper,children:[Object(x.jsx)("img",{style:{width:"40px",margin:"15px"},src:P,alt:"Sign in Logo"}),Object(x.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(x.jsxs)("form",{className:i.form,onSubmit:e.onSignUp,noValidate:!0,children:[Object(x.jsxs)(W.a,{variant:"outlined",className:i.formControl,children:[Object(x.jsx)(D.a,{id:"role-label",children:"What is your role?"}),Object(x.jsxs)(S.a,{labelid:"role-label",required:!0,id:"role",value:r,onChange:function(e){c(e.target.value)},name:"role",children:[Object(x.jsx)(k.a,{value:"tutor",children:"Tutor"}),Object(x.jsx)(k.a,{value:"parent",children:"Parent"})]})]}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",className:i.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email address",name:"email",autoComplete:"email",className:i.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:i.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeatedPassword",label:"Repeat password",type:"password",id:"repeatedPassword",autoComplete:"current-password",className:i.textField}),Object(x.jsx)(E,{classes:i,isVisible:"parent"===r}),Object(x.jsx)(T,{text:e.error}),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,children:"Sign Up"}),Object(x.jsxs)(w.a,{container:!0,children:[Object(x.jsx)(w.a,{item:!0,xs:!0}),Object(x.jsxs)(w.a,{item:!0,children:[Object(x.jsx)("span",{style:{fontSize:"0.875rem"},children:"Don't have an account?"}),Object(x.jsx)(F.b,{style:{marginLeft:8,textDecoration:"none"},to:"/signin",variant:"body2",children:"Sign In"})]})]})]})]})]})};var q=function(e){var t=e.onSearch;return Object(x.jsx)("div",{children:Object(x.jsx)(v.a,{onChange:t,id:"standard-basic",label:"Search a course",name:"search"})})},U=a(234),M=a(226);function z(e){var t=e.isReadOnly,a=e.courseDetail,n=Object(r.useState)(0),c=Object(p.a)(n,2),i=c[0],s=c[1];Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.location.pathname,e.next=4,h.a.get("/courses"===t?"http://localhost:5005/api/courses/".concat(a._id,"/rating"):"http://localhost:5005/api/parent/".concat(a._id,"/rating"),{withCredentials:!0});case 4:(r=e.sent).data[0]&&s(r.data[0].rate),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(x.jsx)("div",{children:Object(x.jsx)(M.a,{component:"fieldset",mb:3,borderColor:"transparent",children:t?Object(x.jsx)(U.a,{name:"rating",value:i,onChange:function(e,t){s(t)},readOnly:!0}):Object(x.jsx)(U.a,{name:"rating",value:i,onChange:function(e,t){s(t),function(e,t){var a={rate:e,date:new Date,feedback:"My feedback",courseId:t};console.log(a),h.a.post("http://localhost:5005/api/courses/rating",a,{withCredentials:!0}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}(t,a._id)}})})})}var B=a(218),R=a(221),H=a(220),_=a(219),K=Object(C.a)((function(e){return{searchBar:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:24},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(10),paddingBottom:e.spacing(8)},card:{minHeight:300,display:"flex",flexDirection:"column"},cardMedia:{height:"auto",paddingTop:"58.25%",width:"100%"},cardContent:{height:200},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},title:{fontWeight:"bold",color:"light"},price:{textSecondary:"main",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},stars:{},readMore:{display:"flex",justifyContent:"flex-end"}}}));var G=function(e){var t=e.courses,a=e.currentRole,n=Object(r.useState)(t),c=Object(p.a)(n,2),i=c[0],s=c[1],o=K(),l=window.location.pathname;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.a,{}),Object(x.jsx)(q,{className:o.searchBar,onSearch:function(e){var a=e.target.value,r=t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));s(r)}}),Object(x.jsx)(N.a,{className:o.cardGrid,maxWidth:"md",children:Object(x.jsx)(w.a,{container:!0,spacing:4,children:i.map((function(e,t){return Object(x.jsx)(w.a,{item:!0,xs:12,sm:6,md:4,children:Object(x.jsxs)(B.a,{className:o.card,children:[Object(x.jsx)(_.a,{className:o.cardMedia,image:e.image,title:"Course image"}),Object(x.jsxs)(H.a,{className:o.cardContent,children:[Object(x.jsx)(y.a,{className:o.title,gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(x.jsxs)(y.a,{children:["By ",e.tutorId.username]}),Object(x.jsxs)(y.a,{className:o.price,children:[e.price," $"]}),Object(x.jsx)(z,{className:o.stars,courseDetail:e,isReadOnly:"true"})]}),Object(x.jsx)(R.a,{className:o.readMore,children:"tutor"===a?Object(x.jsx)(F.b,{to:"/profile"===l?"/courses/".concat(e._id,"/edit"):"/courses/".concat(e._id),style:{textDecoration:"none",textColor:"white"},children:Object(x.jsx)(g.a,{size:"medium",color:"primary",children:"Edit"})}):Object(x.jsx)(F.b,{to:"/profile"===l?"/parent/".concat(e._id):"/courses/".concat(e._id),style:{textDecoration:"none",textColor:"white"},children:Object(x.jsx)(g.a,{size:"medium",color:"primary",children:"Read more"})})})]})},t)}))})})]})},J=a(232);var Y=function(e){return null!==e.user.profilePic&&void 0!==e.user.profilePic||(e.user.profilePic="http://localhost:5005/images/default-ninja.png"),console.log("HERE"),console.log(e.courses),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{backgroundColor:"#FAF3DD",margin:0},className:e.className,children:Object(x.jsxs)("div",{className:e.className,children:[Object(x.jsx)(J.a,{style:{width:"200px",height:"200px"},children:Object(x.jsx)("img",{src:e.user.profilePic,width:"200px",alt:"profile"})}),Object(x.jsxs)("h2",{children:["Hello ",e.user.username,". \ud83d\ude0a"]}),Object(x.jsx)("h3",{children:"What course would you like to see today? \ud83e\udd77 \ud83d\ude80"})]})}),Object(x.jsx)("div",{className:e.className,children:Object(x.jsx)(G,{currentRole:e.user.role,courses:e.courses})})]})},$=a.p+"static/media/envelope-solid.80b23b18.svg",Q=Object(C.a)((function(e){return{headline:{marginTop:e.spacing(2)},avatar:{maxWidth:200,width:"100%",height:"100%",margin:20}}}));var X=function(e){var t=Q();return null!==e.user.profilePic&&void 0!==e.user.profilePic||(e.user.profilePic="http://localhost:5005/images/Avatar.png"),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{style:{backgroundColor:"#FAF3DD",margin:0},className:e.className,children:[Object(x.jsxs)(y.a,{component:"h1",className:t.headline,variant:"h5",children:["Hi ",Object(x.jsx)("b",{children:e.user.username}),", super tutor!"]}),Object(x.jsx)(J.a,{className:t.avatar,children:Object(x.jsx)("img",{style:{width:"100%",height:"100%"},src:e.user.profilePic,alt:"profile"})}),Object(x.jsx)("div",{children:Object(x.jsxs)(y.a,{className:t.headline,children:[Object(x.jsx)("img",{src:$,alt:"envelope",style:{width:15}}),Object(x.jsx)("span",{style:{marginLeft:10},children:e.user.email})]})})]}),Object(x.jsx)("div",{className:e.className,children:Object(x.jsx)(G,{currentRole:e.user.role,courses:e.courses})})]})},Z=Object(C.a)((function(e){return{profile:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:24}}}));var ee=function(e){var t=Object(r.useState)(null),a=Object(p.a)(t,2),n=a[0],c=a[1],i=Z();return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("http://localhost:5005/api/user",{withCredentials:!0});case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),n?Object(x.jsx)(x.Fragment,{children:"parent"===n.role?Object(x.jsx)(Y,{courses:n.coursesBooked,user:n,className:i.profile}):Object(x.jsx)(X,{courses:n.coursesAdded,user:n,className:i.profile})}):Object(x.jsx)("p",{children:"Loading..."})},te=a(51),ae=a(222),re=a(223),ne=a(224),ce=a(110),ie=a(107),se=a.n(ie),oe=a.p+"static/media/NinjaCoder-logo.884ec274.png",le=Object(C.a)((function(e){return{btn:{textDecoration:"none",color:"inherit"},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(te.a)({},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(te.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(te.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));var ue=function(e){var t=le(),a=Object(r.useState)(null),n=Object(p.a)(a,2),c=n[0],i=n[1],s=Object(r.useState)(null),o=Object(p.a)(s,2),l=o[0],u=o[1],d=Boolean(c),j=Boolean(l),b=function(){u(null)},h=Object(x.jsx)(ce.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:"navbar-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:function(){i(null),b()}}),m="navbar-menu-mobile",O=Object(x.jsxs)(ce.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:m,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:b,children:[Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/courses",children:"Courses"})}),e.user?[Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/profile",children:"Profile"})},"mobileProfile"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/account",children:"Account"})},"mobileAccount"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/",onClick:e.onLogOut,children:"Logout"})},"mobileLogout")]:[Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/signin",children:"SignIn"})},"mobileSignIn"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/signup",children:"SignUp"})},"mobileSignUp")]]});return Object(x.jsxs)("div",{className:t.grow,children:[Object(x.jsx)(ae.a,{position:"static",children:Object(x.jsxs)(re.a,{children:[Object(x.jsx)(y.a,{className:t.title,variant:"h6",children:Object(x.jsxs)(g.a,{component:F.b,to:"/",children:[Object(x.jsx)("img",{style:{width:"35px",marginRight:"8px"},src:oe,alt:"NinjaCoder logo"}),"NinjaCoder"]})}),Object(x.jsx)("div",{className:t.grow}),Object(x.jsxs)("div",{className:t.sectionDesktop,children:[Object(x.jsx)(k.a,{children:Object(x.jsx)(F.b,{className:t.btn,to:"/courses",children:"Courses"})}),e.user?[Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/profile",children:"Profile"})},"desktopProfile"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/create-course",children:"Create"})},"desktopCreateCourse"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/account",children:"Account"})},"desktopAccount"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(F.b,{className:t.btn,to:"/",onClick:e.onLogOut,children:"Logout"})},"desktopHome")]:[Object(x.jsx)(k.a,{children:Object(x.jsx)(F.b,{className:t.btn,to:"/signin",children:"SignIn"})},"desktopSignIn"),Object(x.jsx)(k.a,{children:Object(x.jsx)(F.b,{className:t.btn,to:"/signup",children:"SignUp"})},"desktopSignUp")]]}),Object(x.jsx)("div",{className:t.sectionMobile,children:Object(x.jsx)(ne.a,{"aria-label":"show more","aria-controls":m,"aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},color:"inherit",children:Object(x.jsx)(se.a,{})})})]})}),O,h]})},de=a.p+"static/media/helloNinjaKitty.4afc063d.png";var pe=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:de,alt:"NinjaKitty says hello"})})},je=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(1)}}}));var be=function(e){var t=je(),a=e.onAddCourse;return Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)("img",{style:{width:"40px",margin:"15px"},src:P,alt:"Sign in Logo"}),Object(x.jsx)(y.a,{component:"h1",variant:"h5",children:"Add a course"}),Object(x.jsxs)("form",{className:t.form,onSubmit:a,encType:"multipart/form-data",children:[Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Course name",name:"name",type:"text",className:t.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,multiline:!0,id:"description",label:"Course description",name:"description",type:"text",rows:5,className:t.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"price",label:"Price course",name:"price",type:"number",className:t.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"video",label:"Video Url ie. : https://www.youtube.com/watch?v=",name:"video",type:"text",className:t.textField}),Object(x.jsx)("input",{name:"image",type:"file",accept:"image/png, image/jpeg"}),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit course"})]})]})]})};var he=function(e){var t=Object(r.useState)(null),a=Object(p.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.match.params.courseId,t.next=4,h.a.get("http://localhost:5005/api/courses/".concat(a),{withCredentials:!0});case 4:r=t.sent,c(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),n?Object(x.jsxs)("div",{children:[Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)("img",{src:n.image,alt:"course"})}),Object(x.jsxs)("li",{children:["Name: ",n.name]}),Object(x.jsxs)("li",{children:["Description: ",n.description]}),Object(x.jsxs)("li",{children:["Price: ",n.price]}),Object(x.jsxs)("li",{children:["Tutor: ",n.tutorId.username," "]})]}),Object(x.jsx)(F.b,{to:"/courses/".concat(n._id,"/payment"),children:"Enroll"})]}):Object(x.jsx)("p",{children:"Loading...Bruh"})};var me=function(e){var t=Object(r.useState)(null),a=Object(p.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.match.params.courseId,t.next=4,h.a.get("http://localhost:5005/api/courses/".concat(a,"/payment"),{withCredentials:!0});case 4:r=t.sent,c(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),n?Object(x.jsx)("div",{children:n.message}):Object(x.jsx)("p",{children:"Loading..."})},xe=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(1)}}}));var Oe=function(e){var t=xe(),a=Object(r.useState)(null),n=Object(p.a)(a,2),c=n[0],i=n[1];if(Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.match.params.courseId,t.next=4,h.a.get("http://localhost:5005/api/courses/".concat(a));case 4:r=t.sent,i(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Course fetch failed",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),!c)return Object(x.jsx)("p",{children:"Loading..."});var o=e.onEditCourse;return Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)("img",{style:{width:"40px",margin:"15px"},src:P,alt:"Sign in Logo"}),Object(x.jsx)(y.a,{component:"h1",variant:"h5",children:"Edit a course"}),Object(x.jsxs)("form",{className:t.form,onSubmit:function(e){o(e,c)},encType:"multipart/form-data",children:[Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Course name",name:"name",type:"text",className:t.textField,onChange:function(e){var t=e.target.value;i(Object(s.a)(Object(s.a)({},c),{},{name:t}))},value:c.name}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,multiline:!0,id:"description",label:"Course description",name:"description",type:"text",rows:5,className:t.textField,onChange:function(e){var t=e.target.value;i(Object(s.a)(Object(s.a)({},c),{},{description:t}))},value:c.description}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"price",label:"Price course",name:"price",type:"number",className:t.textField,onChange:function(e){var t=e.target.value;i(Object(s.a)(Object(s.a)({},c),{},{price:t}))},value:c.price}),Object(x.jsx)("input",{name:"image",type:"file",accept:"image/png, image/jpeg"}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"video",label:"Video Url ie. : https://www.youtube.com/watch?v=",name:"video",type:"text",className:t.textField,onChange:function(e){var t=e.target.value;i(Object(s.a)(Object(s.a)({},c),{},{video:t}))},value:c.video}),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit changes"})]}),Object(x.jsxs)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:function(){return e.onDelete(c._id)},children:[Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[Object(x.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(x.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]}),Object(x.jsx)("span",{children:" Delete"})]}),Object(x.jsx)("button",{onClick:function(){return e.onDelete(c._id)},children:"Delete"})]})]})},ge=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4),display:"flex",alignItems:"center",flexDirection:"column"},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(2)},headline:{textAlign:"center"}}})),fe=function(e){if(void 0!==e.user&&void 0!==e.user.role)return"parent"===e.user.role?"http://localhost:5005/images/default-ninja.png":"http://localhost:5005/images/Avatar.png"};var ve=function(e){var t=ge(),a=(Object(j.g)(),Object(r.useState)([])),n=Object(p.a)(a,2),c=n[0],i=n[1],s=Object(r.useState)(!1),o=Object(p.a)(s,2),l=o[0],b=o[1],m=function(e){return null===e.user||void 0===e.user?null:fe(e)}(e),O=Object(r.useState)(m),C=Object(p.a)(O,2),k=C[0],S=C[1];if(!e.user)return Object(x.jsx)(j.a,{to:"/signin"});var W=function(){var t=Object(d.a)(u.a.mark((function t(a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b(!0),a.preventDefault(),D(a.target)){t.next=5;break}return b(!1),t.abrupt("return");case 5:if(!(void 0!==a.target.profilePic&&a.target.profilePic.files.length>0)){t.next=9;break}return t.next=8,P(a.target.profilePic.files[0]);case 8:r=t.sent;case 9:return t.next=11,F(a.target,r,e.user.role);case 11:b(!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(t){var a=t.username,r=t.email,n=t.password,c=t.repeatedPassword,s=t.kidAge,o=t.secretWord,l=[];return""===a.value&&l.push("Username not set"),""===r.value&&l.push("E-Mail not set"),n.value.length<8&&l.push("Password too short"),n.value!==c.value&&l.push("Passwords don't match"),"parent"===e.user.role&&(""===s.value&&l.push("Age of your child is not set"),s.value<0&&l.push("Age of your child is negative"),""===o.value&&l.push("Secret word is not set")),i(l),0===l.length},F=function(){var t=Object(d.a)(u.a.mark((function t(a,r,n){var c,s,o,l,d,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.username,s=a.email,o=a.password,l=a.repeatedPassword,d={username:c.value,email:s.value,password:o.value,repeatedPassword:l.value},"parent"===n&&(d.kidAge=a.kidAge.value,d.secretWord=a.secretWord.value),void 0!==r&&null!==r&&(d.profilePic=r),t.prev=4,t.next=7,h.a.patch("http://localhost:5005/api/".concat(n,"/edit"),d,{withCredentials:!0});case 7:return p=t.sent,t.next=10,e.fetchUser(p.data);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),i(["There was an error editing the user"]),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,a,r){return t.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("imageUrl",t),e.prev=2,e.next=5,h.a.post("http://localhost:5005/api/upload",a,{withCredentials:!0});case 5:return r=e.sent,e.abrupt("return",r.data.image);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),a.preventDefault(),t.prev=2,t.next=5,h.a.delete("http://localhost:5005/api/".concat(e.user.role,"/delete"),{withCredentials:!0});case 5:e.logoutUser(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),i(["There was an error deleting the user"]),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),I=function(e){return e.isVisible?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"kidAge",label:"Age of your child",name:"kidAge",className:t.textField,defaultValue:e.user.kidAge}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"secretWord",label:"Please choose a secret word",name:"secretWord",className:t.textField,defaultValue:e.user.secretWord})]}):Object(x.jsx)(x.Fragment,{})};return l?Object(x.jsx)("p",{children:"Loading..."}):Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)(y.a,{component:"h1",className:t.headline,variant:"h5",children:"EDIT YOUR ACCOUNT DETAILS"}),Object(x.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:W,children:[Object(x.jsx)(J.a,{style:{width:"200px",height:"200px",marginBottom:10},children:Object(x.jsx)("img",{src:k,width:"200px",alt:"profile"})}),Object(x.jsx)("input",{onChange:function(e){S(URL.createObjectURL(e.target.files[0]))},style:{marginBottom:10},type:"file",name:"profilePic",accept:"image/png, image/jpg"}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",className:t.textField,defaultValue:e.user.username}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email address",name:"email",autoComplete:"email",className:t.textField,defaultValue:e.user.email}),Object(x.jsx)(I,{classes:t,user:e.user,isVisible:"parent"===e.user.role}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:t.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeatedPassword",label:"Repeat password",type:"password",id:"repeatedPassword",autoComplete:"current-password",className:t.textField}),c.map((function(e,t){return Object(x.jsx)(T,{text:e},t)})),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"}),Object(x.jsxs)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:A,children:[Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[Object(x.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(x.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]}),Object(x.jsx)("span",{children:" Delete"})]}),Object(x.jsxs)(w.a,{container:!0,children:[Object(x.jsx)(w.a,{item:!0,xs:!0}),Object(x.jsx)(w.a,{item:!0})]})]})]})]})},we=a(108),ye=a.n(we);var Ce=function(e){var t=Object(r.useState)(null),a=Object(p.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.match.params.courseId,t.next=4,h.a.get("http://localhost:5005/api/courses/".concat(a),{withCredentials:!0});case 4:r=t.sent,c(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),n?Object(x.jsxs)("div",{children:[Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["Name: ",n.name]}),Object(x.jsxs)("li",{children:["Video:",Object(x.jsx)(ye.a,{url:n.video})]}),Object(x.jsxs)("li",{children:["Description: ",n.description]}),Object(x.jsxs)("li",{children:["Tutor: ",n.tutorId.username," "]})]}),Object(x.jsx)(z,{courseDetail:n}),Object(x.jsx)(F.b,{to:"/profile",children:"Finished!"})]}):Object(x.jsx)("p",{children:"Loading...Bruh"})};var Ne=function(){var e=Object(j.g)(),t=Object(r.useState)(null),a=Object(p.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)([]),l=Object(p.a)(i,2),b=l[0],m=l[1],g=Object(r.useState)(null),f=Object(p.a)(g,2),v=f[0],w=f[1],y=Object(r.useState)(null),C=Object(p.a)(y,2),N=C[0],k=C[1],S=Object(r.useState)(!0),W=Object(p.a)(S,2),D=W[0],F=W[1],T=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:5005/api/user",{withCredentials:!0});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("http://localhost:5005/api/courses",{withCredentials:!0});case 3:return t=e.sent,m(t.data),e.next=7,T();case 7:F(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),F(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){"/signin"!==e.location.pathname&&"/signup"!==e.location.pathname||!n||e.push("/profile"),n||D?e.push(e.location.pathname):e.push("/")}),[n,e,D]),D)return Object(x.jsx)("p",{children:"Loading..."});var P=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,n,i,s,o,l,d,p,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target,r=a.username,n=a.role,i=a.email,s=a.password,o=a.repeatedPassword,l=a.kidAge,d=a.secretWord,p={username:r.value,role:n.value,email:i.value,password:s.value,repeatedPassword:o.value},"parent"===n.value&&(p.kidAge=l.value,p.secretWord=d.value),e.prev=4,e.next=7,h.a.post("http://localhost:5005/api/signup",p,{withCredentials:!0});case 7:j=e.sent,c(j.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),k(e.t0.response.data.errorMessage);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,n,i,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target,r=a.role,n=a.email,i=a.password,s={role:r.value,email:n.value,password:i.value},e.prev=3,e.next=6,h.a.post("http://localhost:5005/api/signin",s,{withCredentials:!0});case 6:(o=e.sent).data.role=s.role,c(o.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),w(e.t0.response.data.errorMessage);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("http://localhost:5005/api/logout",{},{withCredentials:!0});case 3:c(null),e.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Logout failed");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(d.a)(u.a.mark((function t(a){var r,n,c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(r=new FormData).append("imageUrl",a.target.image.files[0]),t.next=5,h.a.post("http://localhost:5005/api/upload",r,{withCredentials:!0});case 5:return n=t.sent,c={name:a.target.name.value,description:a.target.description.value,image:n.data.image,video:a.target.video.value,price:a.target.price.value},t.prev=7,t.next=10,h.a.post("http://localhost:5005/api/tutor/courses/add",c,{withCredentials:!0});case 10:return i=t.sent,m([i.data].concat(Object(o.a)(b))),t.next=14,T();case 14:e.push("/profile"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),console.log("Course creation failed",t.t0);case 20:case"end":return t.stop()}}),t,null,[[7,17]])})));return function(e){return t.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h.a.patch("http://localhost:5005/api/tutor/courses/".concat(a._id),a,{withCredentials:!0});case 3:try{r=b.map((function(e){return e._id===a._id&&(e.name=a.name,e.description=a.description,e.video=a.video,e.price=a.price),e})),m(r)}catch(n){console.log(n.response.data.error)}case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("http://localhost:5005/api/tutor/courses/".concat(t),{withCredentials:!0});case 2:a=b.filter((function(e){return e._id!==t})),m(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)(ue,{user:n,onLogOut:V}),Object(x.jsxs)(j.d,{children:[Object(x.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(x.jsx)(pe,{})}}),Object(x.jsx)(j.b,{path:"/signin",render:function(e){return Object(x.jsx)(I,Object(s.a)({error:v,onSignIn:A},e))}}),Object(x.jsx)(j.b,{path:"/signup",render:function(e){return Object(x.jsx)(L,Object(s.a)({error:N,onSignUp:P},e))}}),Object(x.jsx)(j.b,{path:"/profile",render:function(e){return Object(x.jsx)(ee,Object(s.a)({},e))}}),Object(x.jsx)(j.b,{path:"/account",render:function(e){return Object(x.jsx)(ve,Object(s.a)({logoutUser:V,fetchUser:T,user:n},e))}}),Object(x.jsx)(j.b,{path:"/create-course",render:function(){return Object(x.jsx)(be,{onAddCourse:E})}}),Object(x.jsx)(j.b,{exact:!0,path:"/parent/:courseId",render:function(e){return Object(x.jsx)(Ce,Object(s.a)({},e))}}),Object(x.jsx)(j.b,{exact:!0,path:"/courses",render:function(){return Object(x.jsx)(G,{courses:b})}}),Object(x.jsx)(j.b,{exact:!0,path:"/courses/:courseId",render:function(e){return Object(x.jsx)(he,Object(s.a)({},e))}}),Object(x.jsx)(j.b,{exact:!0,path:"/courses/:courseId/payment",render:function(e){return Object(x.jsx)(me,Object(s.a)({},e))}}),Object(x.jsx)(j.b,{exact:!0,path:"/courses/:courseId/edit",render:function(e){return Object(x.jsx)(Oe,Object(s.a)({onDelete:U,onEditCourse:q},e))}}),Object(x.jsx)(j.b,{component:O})]})]})},ke=a(109),Se=a(225),We=Object(ke.a)({palette:{primary:{main:"#8FC0A9"},secondary:{light:"#00b8d4",main:"#00838f",dark:"#006064"}}});i.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(F.a,{children:Object(x.jsx)(Se.a,{theme:We,children:Object(x.jsx)(Ne,{})})})}),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.e9d2fc39.chunk.js.map