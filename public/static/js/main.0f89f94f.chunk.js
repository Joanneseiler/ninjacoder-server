(this["webpackJsonpNinjaCoder-client"]=this["webpackJsonpNinjaCoder-client"]||[]).push([[0],{132:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),s=(a(132),a(20)),o=a(115),l=a(7),u=a.n(l),d=a(14),j=a(10),p=a(16),b=a(13),m=a.n(b),h=a.p+"static/media/sadNinjaKitty.24350543.png",x=a(1);var O=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Hey Kiddo, you better go back to the others, you can't go here!"}),Object(x.jsx)("img",{src:h,alt:"sad NinjaKitty"})]})},g=a(217),f=a(212),v=a(232),w=a(218),y=a(213),C=a(208),N=a(210),k=a(231),S=a(228),W=a(214),D=a(229),T=a(9);var F=function(e){return Object(x.jsx)("div",{style:{marginTop:16,display:"flex",justifyContent:"center",color:"red"},children:e.text})},P=a.p+"static/media/Login-logo.b90cbc5a.png",A=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},input:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(2)}}}));var I=function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),r=a[0],c=a[1],i=A();return Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:i.paper,children:[Object(x.jsx)("img",{style:{width:"40px",margin:"15px"},src:P,alt:"Sign in Logo"}),Object(x.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(x.jsxs)("form",{className:i.form,onSubmit:e.onSignIn,noValidate:!0,children:[Object(x.jsxs)(W.a,{variant:"outlined",className:i.formControl,children:[Object(x.jsx)(D.a,{id:"role-label",children:"What is your role?"}),Object(x.jsxs)(S.a,{labelid:"role-label",required:!0,id:"role",value:r,onChange:function(e){c(e.target.value)},name:"role",children:[Object(x.jsx)(k.a,{value:"tutor",children:"Tutor"}),Object(x.jsx)(k.a,{value:"parent",children:"Parent"})]})]}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",className:i.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:i.textField}),Object(x.jsx)(F,{text:e.error}),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,children:"Sign In"}),Object(x.jsxs)(w.a,{container:!0,children:[Object(x.jsx)(w.a,{item:!0,xs:!0}),Object(x.jsxs)(w.a,{item:!0,children:[Object(x.jsx)("span",{style:{fontSize:"0.875rem"},children:"Don't have an account?"}),Object(x.jsx)(T.b,{style:{marginLeft:8,textDecoration:"none"},to:"/signup",variant:"body2",children:"Sign Up"})]})]})]})]})]})},V=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(2)}}}));function L(e){return e.isVisible?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"kidAge",label:"Age of your child",name:"kidAge",className:e.classes.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"secretWord",label:"Please choose a secret word",name:"secretWord",className:e.classes.textField})]}):Object(x.jsx)(x.Fragment,{})}var E=function(e){var t=r.a.useState(""),a=Object(j.a)(t,2),n=a[0],c=a[1],i=V();return Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:i.paper,children:[Object(x.jsx)("img",{style:{width:"40px",margin:"15px"},src:P,alt:"Sign in Logo"}),Object(x.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(x.jsxs)("form",{className:i.form,onSubmit:e.onSignUp,noValidate:!0,children:[Object(x.jsxs)(W.a,{variant:"outlined",className:i.formControl,children:[Object(x.jsx)(D.a,{id:"role-label",children:"What is your role?"}),Object(x.jsxs)(S.a,{labelid:"role-label",required:!0,id:"role",value:n,onChange:function(e){c(e.target.value)},name:"role",children:[Object(x.jsx)(k.a,{value:"tutor",children:"Tutor"}),Object(x.jsx)(k.a,{value:"parent",children:"Parent"})]})]}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",className:i.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email address",name:"email",autoComplete:"email",className:i.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:i.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeatedPassword",label:"Repeat password",type:"password",id:"repeatedPassword",autoComplete:"current-password",className:i.textField}),Object(x.jsx)(L,{classes:i,isVisible:"parent"===n}),Object(x.jsx)(F,{text:e.error}),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,children:"Sign Up"}),Object(x.jsxs)(w.a,{container:!0,children:[Object(x.jsx)(w.a,{item:!0,xs:!0}),Object(x.jsxs)(w.a,{item:!0,children:[Object(x.jsx)("span",{style:{fontSize:"0.875rem"},children:"Don't have an account?"}),Object(x.jsx)(T.b,{style:{marginLeft:8,textDecoration:"none"},to:"/signin",variant:"body2",children:"Sign In"})]})]})]})]})]})},q=a(110),U=a.n(q);var M=function(e){var t=e.onSearch;return Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:20},children:[Object(x.jsx)("div",{children:Object(x.jsx)(v.a,{style:{borderRadius:20},onChange:t,id:"standard-basic",label:"Search a course",name:"search"})}),Object(x.jsx)("div",{style:{paddingTop:20},children:Object(x.jsx)(U.a,{})})]})},z=a(235),B=a(227),R="https://ninja-coder.herokuapp.com";function _(e){var t=e.isReadOnly,a=e.courseDetail,r=Object(n.useState)(0),c=Object(j.a)(r,2),i=c[0],s=c[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.location.pathname,e.next=4,m.a.get("/courses"===t?"".concat(R,"/api/courses/").concat(a._id,"/rating"):"".concat(R,"/api/parent/").concat(a._id,"/rating"),{withCredentials:!0});case 4:(n=e.sent).data[0]&&s(n.data[0].rate),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(x.jsx)("div",{children:Object(x.jsx)(B.a,{component:"fieldset",mb:3,borderColor:"transparent",children:t?Object(x.jsx)(z.a,{name:"rating",value:i,onChange:function(e,t){s(t)},readOnly:!0}):Object(x.jsx)(z.a,{name:"rating",value:i,onChange:function(e,t){s(t),function(e,t){var a={rate:e,date:new Date,feedback:"My feedback",courseId:t};console.log(a),m.a.post("".concat(R,"/api/courses/rating"),a,{withCredentials:!0}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}(t,a._id)}})})})}var H=a(219),K=a(222),G=a(221),J=a(220),Y=Object(C.a)((function(e){return{searchBar:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:24},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(10),paddingBottom:e.spacing(8)},card:{minHeight:300,display:"flex",flexDirection:"column"},cardMedia:{height:"auto",paddingTop:"58.25%",width:"100%"},cardContent:{height:200},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},title:{fontWeight:"bold",color:"light"},price:{textSecondary:"main",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},stars:{},readMore:{display:"flex",justifyContent:"flex-end"}}}));var $=function(e){var t=e.courses,a=e.currentRole,r=Object(n.useState)(t),c=Object(j.a)(r,2),i=c[0],s=c[1],o=Y(),l=window.location.pathname;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.a,{}),Object(x.jsx)(M,{className:o.searchBar,onSearch:function(e){var a=e.target.value,n=t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));s(n)}}),Object(x.jsx)(N.a,{className:o.cardGrid,maxWidth:"md",children:Object(x.jsx)(w.a,{container:!0,spacing:4,children:i.map((function(e,t){return Object(x.jsx)(w.a,{item:!0,xs:12,sm:6,md:4,children:Object(x.jsxs)(H.a,{className:o.card,children:[Object(x.jsx)(J.a,{className:o.cardMedia,image:e.image,title:"Course image"}),Object(x.jsxs)(G.a,{className:o.cardContent,children:[Object(x.jsx)(y.a,{className:o.title,gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(x.jsxs)(y.a,{children:["By ",e.tutorId.username]}),Object(x.jsxs)(y.a,{className:o.price,children:[e.price," $"]}),Object(x.jsx)(_,{className:o.stars,courseDetail:e,isReadOnly:"true"})]}),Object(x.jsx)(K.a,{className:o.readMore,children:"tutor"===a?Object(x.jsx)(T.b,{to:"/profile"===l?"/courses/".concat(e._id,"/edit"):"/courses/".concat(e._id),style:{textDecoration:"none",textColor:"white"},children:Object(x.jsx)(g.a,{size:"medium",color:"primary",children:"Edit"})}):Object(x.jsx)(T.b,{to:"/profile"===l?"/parent/".concat(e._id):"/courses/".concat(e._id),style:{textDecoration:"none",textColor:"white"},children:Object(x.jsx)(g.a,{size:"medium",color:"primary",children:"Read more"})})})]})},t)}))})})]})},Q=a(233);var X=function(e){return null!==e.user.profilePic&&void 0!==e.user.profilePic||(e.user.profilePic="".concat(R,"/images/default-ninja.png")),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{backgroundColor:"#FAF3DD",margin:0},className:e.className,children:Object(x.jsxs)("div",{className:e.className,children:[Object(x.jsx)(Q.a,{style:{width:"200px",height:"200px"},children:Object(x.jsx)("img",{src:e.user.profilePic,width:"200px",alt:"profile"})}),Object(x.jsxs)("h2",{children:["Hello ",e.user.username,". \ud83d\ude0a"]}),Object(x.jsx)("h3",{children:"What course would you like to see today? \ud83e\udd77 \ud83d\ude80"})]})}),Object(x.jsx)("div",{className:e.className,children:Object(x.jsx)($,{currentRole:e.user.role,courses:e.courses})})]})},Z=a.p+"static/media/envelope-solid.80b23b18.svg",ee=Object(C.a)((function(e){return{headline:{marginTop:e.spacing(2)},avatar:{maxWidth:200,width:"100%",height:"100%",margin:20}}}));var te=function(e){var t=ee();return null!==e.user.profilePic&&void 0!==e.user.profilePic||(e.user.profilePic="".concat(R,"/images/Avatar.png")),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{style:{backgroundColor:"#FAF3DD",margin:0},className:e.className,children:[Object(x.jsxs)(y.a,{component:"h1",className:t.headline,variant:"h5",children:["Hi ",Object(x.jsx)("b",{children:e.user.username}),", super tutor!"]}),Object(x.jsx)(Q.a,{className:t.avatar,children:Object(x.jsx)("img",{style:{width:"100%",height:"100%"},src:e.user.profilePic,alt:"profile"})}),Object(x.jsx)("div",{children:Object(x.jsxs)(y.a,{className:t.headline,children:[Object(x.jsx)("img",{src:Z,alt:"envelope",style:{width:15}}),Object(x.jsx)("span",{style:{marginLeft:10},children:e.user.email})]})})]}),Object(x.jsx)("div",{className:e.className,children:Object(x.jsx)($,{currentRole:e.user.role,courses:e.courses})})]})},ae=Object(C.a)((function(e){return{profile:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:24,textAlign:"center"}}}));var ne=function(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),r=a[0],c=a[1],i=ae();return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("http://localhost:5005/api/user",{withCredentials:!0});case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r?Object(x.jsx)(x.Fragment,{children:"parent"===r.role?Object(x.jsx)(X,{courses:r.coursesBooked,user:r,className:i.profile}):Object(x.jsx)(te,{courses:r.coursesAdded,user:r,className:i.profile})}):Object(x.jsx)("p",{children:"Loading..."})},re=a(51),ce=a(223),ie=a(224),se=a(225),oe=a(114),le=a(111),ue=a.n(le),de=a.p+"static/media/NinjaCoder-logo.884ec274.png",je=a.p+"static/media/fontlogo.11c433db.png",pe=Object(C.a)((function(e){return{btn:{textDecoration:"none",color:"inherit"},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(re.a)({},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(re.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(re.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));var be=function(e){var t=pe(),a=Object(n.useState)(null),r=Object(j.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(null),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Boolean(c),p=Boolean(l),b=function(){u(null)},m=Object(x.jsx)(oe.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:"navbar-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:function(){i(null),b()}}),h="navbar-menu-mobile",O=Object(x.jsxs)(oe.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:h,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:b,children:[Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/courses",children:"Courses"})}),e.user?[Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/create-course",children:"Course creation"})},"mobileCreateCourse"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/profile",children:"Profile"})},"mobileProfile"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/account",children:"Account"})},"mobileAccount"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/",onClick:e.onLogOut,children:"Logout"})},"mobileLogout")]:[Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/signin",children:"SignIn"})},"mobileSignIn"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/signup",children:"SignUp"})},"mobileSignUp")]]});return Object(x.jsxs)("div",{className:t.grow,children:[Object(x.jsx)(ce.a,{position:"static",children:Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(y.a,{className:t.title,variant:"h6",children:Object(x.jsxs)(g.a,{component:T.b,to:"/",children:[Object(x.jsx)("img",{style:{width:"35px",marginRight:"8px"},src:de,alt:"NinjaCoder logo"}),Object(x.jsx)("img",{style:{width:"130px",marginRight:"8px"},src:je,alt:"NinjaCoder font"})]})}),Object(x.jsx)("div",{className:t.grow}),Object(x.jsxs)("div",{className:t.sectionDesktop,children:[Object(x.jsx)(k.a,{children:Object(x.jsx)(T.b,{className:t.btn,to:"/courses",children:"Courses"})}),e.user?[Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/create-course",children:"Course creation"})},"desktopCreateCourse"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/profile",children:"Profile"})},"desktopProfile"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/account",children:"Account"})},"desktopAccount"),Object(x.jsx)(k.a,{onClick:b,children:Object(x.jsx)(T.b,{className:t.btn,to:"/",onClick:e.onLogOut,children:"Logout"})},"desktopHome")]:[Object(x.jsx)(k.a,{children:Object(x.jsx)(T.b,{className:t.btn,to:"/signin",children:"SignIn"})},"desktopSignIn"),Object(x.jsx)(k.a,{children:Object(x.jsx)(T.b,{className:t.btn,to:"/signup",children:"SignUp"})},"desktopSignUp")]]}),Object(x.jsx)("div",{className:t.sectionMobile,children:Object(x.jsx)(se.a,{"aria-label":"show more","aria-controls":h,"aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},color:"inherit",children:Object(x.jsx)(ue.a,{})})})]})}),O,m]})},me=a.p+"static/media/helloNinjaKitty.4afc063d.png";var he=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:me,alt:"NinjaKitty says hello"})})},xe=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(1)}}}));var Oe=function(e){var t=xe(),a=e.onAddCourse;return Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)("img",{style:{width:"40px",margin:"15px"},src:P,alt:"Sign in Logo"}),Object(x.jsx)(y.a,{component:"h1",variant:"h5",children:"Add a course"}),Object(x.jsxs)("form",{className:t.form,onSubmit:a,encType:"multipart/form-data",children:[Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Course name",name:"name",type:"text",className:t.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,multiline:!0,id:"description",label:"Course description",name:"description",type:"text",rows:5,className:t.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"price",label:"Price course",name:"price",type:"number",className:t.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"video",label:"Video Url ie. : https://www.youtube.com/watch?v=",name:"video",type:"text",className:t.textField}),Object(x.jsx)("input",{name:"image",type:"file",accept:"image/png, image/jpeg"}),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit course"})]})]})]})};var ge=function(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.match.params.courseId,t.next=4,m.a.get("".concat(R,"/api/courses/").concat(a),{withCredentials:!0});case 4:n=t.sent,c(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),r?Object(x.jsxs)("div",{children:[Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)("img",{src:r.image,alt:"course"})}),Object(x.jsxs)("li",{children:["Name: ",r.name]}),Object(x.jsxs)("li",{children:["Description: ",r.description]}),Object(x.jsxs)("li",{children:["Price: ",r.price]}),Object(x.jsxs)("li",{children:["Tutor: ",r.tutorId.username," "]})]}),Object(x.jsx)(T.b,{to:"/courses/".concat(r._id,"/payment"),children:"Enroll"})]}):Object(x.jsx)("p",{children:"Loading...Bruh"})};var fe=function(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.match.params.courseId,t.next=4,m.a.get("".concat(R,"/api/courses/").concat(a,"/payment"),{withCredentials:!0});case 4:n=t.sent,c(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),r?Object(x.jsx)("div",{children:r.message}):Object(x.jsx)("p",{children:"Loading..."})},ve=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4)},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(1)}}}));var we=function(e){var t=ve(),a=Object(n.useState)(null),r=Object(j.a)(a,2),c=r[0],i=r[1];if(Object(n.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.match.params.courseId,t.next=4,m.a.get("".concat(R,"/api/courses/").concat(a));case 4:n=t.sent,i(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Course fetch failed",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),!c)return Object(x.jsx)("p",{children:"Loading..."});var o=e.onEditCourse;return Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)("img",{style:{width:"40px",margin:"15px"},src:P,alt:"Sign in Logo"}),Object(x.jsx)(y.a,{component:"h1",variant:"h5",children:"Edit a course"}),Object(x.jsxs)("form",{className:t.form,onSubmit:function(e){o(e,c)},encType:"multipart/form-data",children:[Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Course name",name:"name",type:"text",className:t.textField,onChange:function(e){var t=e.target.value;i(Object(s.a)(Object(s.a)({},c),{},{name:t}))},value:c.name}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,multiline:!0,id:"description",label:"Course description",name:"description",type:"text",rows:5,className:t.textField,onChange:function(e){var t=e.target.value;i(Object(s.a)(Object(s.a)({},c),{},{description:t}))},value:c.description}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"price",label:"Price course",name:"price",type:"number",className:t.textField,onChange:function(e){var t=e.target.value;i(Object(s.a)(Object(s.a)({},c),{},{price:t}))},value:c.price}),Object(x.jsx)("input",{name:"image",type:"file",accept:"image/png, image/jpeg"}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"video",label:"Video Url ie. : https://www.youtube.com/watch?v=",name:"video",type:"text",className:t.textField,onChange:function(e){var t=e.target.value;i(Object(s.a)(Object(s.a)({},c),{},{video:t}))},value:c.video}),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit changes"})]}),Object(x.jsxs)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:function(){return e.onDelete(c._id)},children:[Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[Object(x.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(x.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]}),Object(x.jsx)("span",{children:" Delete"})]}),Object(x.jsx)("button",{onClick:function(){return e.onDelete(c._id)},children:"Delete"})]})]})},ye=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4),display:"flex",alignItems:"center",flexDirection:"column"},submit:{margin:e.spacing(3,0,2)},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},textField:{marginTop:e.spacing(2)},headline:{textAlign:"center"}}})),Ce=function(e){return"parent"===e.user.role?"".concat(R,"/images/default-ninja.png"):"".concat(R,"/images/Avatar.png")};var Ne=function(e){var t=ye(),a=(Object(p.g)(),Object(n.useState)([])),r=Object(j.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(!1),o=Object(j.a)(s,2),l=o[0],b=o[1],h=function(e){return null===e.user||void 0===e.user?null:null!==e.user.profilePic?e.user.profilePic:Ce(e)}(e),O=Object(n.useState)(h),C=Object(j.a)(O,2),k=C[0],S=C[1];if(!e.user)return Object(x.jsx)(p.a,{to:"/signin"});var W=function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b(!0),a.preventDefault(),D(a.target)){t.next=5;break}return b(!1),t.abrupt("return");case 5:if(!(void 0!==a.target.profilePic&&a.target.profilePic.files.length>0)){t.next=9;break}return t.next=8,P(a.target.profilePic.files[0]);case 8:n=t.sent;case 9:return t.next=11,T(a.target,n,e.user.role);case 11:b(!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(t){var a=t.username,n=t.email,r=t.password,c=t.repeatedPassword,s=t.kidAge,o=t.secretWord,l=[];return""===a.value&&l.push("Username not set"),""===n.value&&l.push("E-Mail not set"),r.value.length<8&&l.push("Password too short"),r.value!==c.value&&l.push("Passwords don't match"),"parent"===e.user.role&&(""===s.value&&l.push("Age of your child is not set"),s.value<0&&l.push("Age of your child is negative"),""===o.value&&l.push("Secret word is not set")),i(l),0===l.length},T=function(){var t=Object(d.a)(u.a.mark((function t(a,n,r){var c,s,o,l,d,j;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.username,s=a.email,o=a.password,l=a.repeatedPassword,d={username:c.value,email:s.value,password:o.value,repeatedPassword:l.value},"parent"===r&&(d.kidAge=a.kidAge.value,d.secretWord=a.secretWord.value),void 0!==n&&null!==n&&(d.profilePic=n),t.prev=4,t.next=7,m.a.patch("".concat(R,"/api/").concat(r,"/edit"),d,{withCredentials:!0});case 7:return j=t.sent,t.next=10,e.fetchUser(j.data);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),i(["There was an error editing the user"]),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,a,n){return t.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("imageUrl",t),e.prev=2,e.next=5,m.a.post("".concat(R,"/api/upload"),a,{withCredentials:!0});case 5:return n=e.sent,e.abrupt("return",n.data.image);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),a.preventDefault(),t.prev=2,t.next=5,m.a.delete("".concat(R,"/api/").concat(e.user.role,"/delete"),{withCredentials:!0});case 5:e.logoutUser(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),i(["There was an error deleting the user"]),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),I=function(e){return e.isVisible?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"kidAge",label:"Age of your child",name:"kidAge",className:t.textField,defaultValue:e.user.kidAge}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"secretWord",label:"Please choose a secret word",name:"secretWord",className:t.textField,defaultValue:e.user.secretWord})]}):Object(x.jsx)(x.Fragment,{})};return l?Object(x.jsx)("p",{children:"Loading..."}):Object(x.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(f.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)(y.a,{component:"h1",className:t.headline,variant:"h5",children:"EDIT YOUR ACCOUNT DETAILS"}),Object(x.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:W,children:[Object(x.jsx)(Q.a,{style:{width:"200px",height:"200px",marginBottom:10},children:Object(x.jsx)("img",{src:k,width:"200px",alt:"profile"})}),Object(x.jsx)("input",{onChange:function(e){S(URL.createObjectURL(e.target.files[0]))},style:{marginBottom:10},type:"file",name:"profilePic",accept:"image/png, image/jpg"}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",className:t.textField,defaultValue:e.user.username}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email address",name:"email",autoComplete:"email",className:t.textField,defaultValue:e.user.email}),Object(x.jsx)(I,{classes:t,user:e.user,isVisible:"parent"===e.user.role}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:t.textField}),Object(x.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeatedPassword",label:"Repeat password",type:"password",id:"repeatedPassword",autoComplete:"current-password",className:t.textField}),c.map((function(e,t){return Object(x.jsx)(F,{text:e},t)})),Object(x.jsx)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"}),Object(x.jsxs)(g.a,{style:{color:"white"},type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:A,children:[Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[Object(x.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(x.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]}),Object(x.jsx)("span",{children:" Delete"})]}),Object(x.jsxs)(w.a,{container:!0,children:[Object(x.jsx)(w.a,{item:!0,xs:!0}),Object(x.jsx)(w.a,{item:!0})]})]})]})]})},ke=a(112),Se=a.n(ke);var We=function(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.match.params.courseId,t.next=4,m.a.get("".concat(R,"/api/courses/").concat(a),{withCredentials:!0});case 4:n=t.sent,c(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),r?Object(x.jsxs)("div",{children:[Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["Name: ",r.name]}),Object(x.jsxs)("li",{children:["Video:",Object(x.jsx)(Se.a,{url:r.video})]}),Object(x.jsxs)("li",{children:["Description: ",r.description]}),Object(x.jsxs)("li",{children:["Tutor: ",r.tutorId.username," "]})]}),Object(x.jsx)(_,{courseDetail:r}),Object(x.jsx)(T.b,{to:"/profile",children:"Finished!"})]}):Object(x.jsx)("p",{children:"Loading...Bruh"})};var De=function(){var e=Object(p.g)(),t=Object(n.useState)(null),a=Object(j.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),l=Object(j.a)(i,2),b=l[0],h=l[1],g=Object(n.useState)(null),f=Object(j.a)(g,2),v=f[0],w=f[1],y=Object(n.useState)(null),C=Object(j.a)(y,2),N=C[0],k=C[1],S=Object(n.useState)(!0),W=Object(j.a)(S,2),D=W[0],T=W[1],F=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(R,"/api/user"),{withCredentials:!0});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(R,"/api/courses"),{withCredentials:!0});case 3:return t=e.sent,h(t.data),e.next=7,F();case 7:T(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),T(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){"/signin"!==e.location.pathname&&"/signup"!==e.location.pathname||!r||e.push("/profile"),r||D?e.push(e.location.pathname):e.push("/")}),[r,e,D]),D)return Object(x.jsx)("p",{children:"Loading..."});var P=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,i,s,o,l,d,j,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target,n=a.username,r=a.role,i=a.email,s=a.password,o=a.repeatedPassword,l=a.kidAge,d=a.secretWord,j={username:n.value,role:r.value,email:i.value,password:s.value,repeatedPassword:o.value},"parent"===r.value&&(j.kidAge=l.value,j.secretWord=d.value),e.prev=4,e.next=7,m.a.post("".concat(R,"/api/signup"),j,{withCredentials:!0});case 7:p=e.sent,c(p.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),k(e.t0.response.data.errorMessage);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,i,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target,n=a.role,r=a.email,i=a.password,s={role:n.value,email:r.value,password:i.value},e.prev=3,e.next=6,m.a.post("".concat(R,"/api/signin"),s,{withCredentials:!0});case 6:(o=e.sent).data.role=s.role,c(o.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),w(e.t0.response.data.errorMessage);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("".concat(R,"/api/logout"),{},{withCredentials:!0});case 3:c(null),e.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Logout failed");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(d.a)(u.a.mark((function t(a){var n,r,c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("imageUrl",a.target.image.files[0]),t.next=5,m.a.post("".concat(R,"/api/upload"),n,{withCredentials:!0});case 5:return r=t.sent,c={name:a.target.name.value,description:a.target.description.value,image:r.data.image,video:a.target.video.value,price:a.target.price.value},t.prev=7,t.next=10,m.a.post("".concat(R,"/api/tutor/courses/add"),c,{withCredentials:!0});case 10:return i=t.sent,h([i.data].concat(Object(o.a)(b))),t.next=14,F();case 14:e.push("/profile"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),console.log("Course creation failed",t.t0);case 20:case"end":return t.stop()}}),t,null,[[7,17]])})));return function(e){return t.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.patch("".concat(R,"/api/tutor/courses/").concat(a._id),a,{withCredentials:!0});case 3:try{n=b.map((function(e){return e._id===a._id&&(e.name=a.name,e.description=a.description,e.video=a.video,e.price=a.price),e})),h(n)}catch(r){console.log(r.response.data.error)}case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat(R,"/api/tutor/courses/").concat(t),{withCredentials:!0});case 2:a=b.filter((function(e){return e._id!==t})),h(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)(be,{user:r,onLogOut:V}),Object(x.jsxs)(p.d,{children:[Object(x.jsx)(p.b,{exact:!0,path:"/",render:function(){return Object(x.jsx)(he,{})}}),Object(x.jsx)(p.b,{path:"/signin",render:function(e){return Object(x.jsx)(I,Object(s.a)({error:v,onSignIn:A},e))}}),Object(x.jsx)(p.b,{path:"/signup",render:function(e){return Object(x.jsx)(E,Object(s.a)({error:N,onSignUp:P},e))}}),Object(x.jsx)(p.b,{path:"/profile",render:function(e){return Object(x.jsx)(ne,Object(s.a)({},e))}}),Object(x.jsx)(p.b,{path:"/account",render:function(e){return Object(x.jsx)(Ne,Object(s.a)({logoutUser:V,fetchUser:F,user:r},e))}}),Object(x.jsx)(p.b,{path:"/create-course",render:function(){return Object(x.jsx)(Oe,{onAddCourse:L})}}),Object(x.jsx)(p.b,{exact:!0,path:"/parent/:courseId",render:function(e){return Object(x.jsx)(We,Object(s.a)({},e))}}),Object(x.jsx)(p.b,{exact:!0,path:"/courses",render:function(){return Object(x.jsx)($,{courses:b})}}),Object(x.jsx)(p.b,{exact:!0,path:"/courses/:courseId",render:function(e){return Object(x.jsx)(ge,Object(s.a)({},e))}}),Object(x.jsx)(p.b,{exact:!0,path:"/courses/:courseId/payment",render:function(e){return Object(x.jsx)(fe,Object(s.a)({},e))}}),Object(x.jsx)(p.b,{exact:!0,path:"/courses/:courseId/edit",render:function(e){return Object(x.jsx)(we,Object(s.a)({onDelete:U,onEditCourse:q},e))}}),Object(x.jsx)(p.b,{component:O})]})]})},Te=a(113),Fe=a(226),Pe=Object(Te.a)({palette:{primary:{main:"#8FC0A9"},secondary:{light:"#00b8d4",main:"#00838f",dark:"#006064"}}});i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(T.a,{children:Object(x.jsx)(Fe.a,{theme:Pe,children:Object(x.jsx)(De,{})})})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.0f89f94f.chunk.js.map